<!doctype HTML>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Tracking information</title>
  <link rel="stylesheet" href="/css/shared.css"/>
  <link rel="stylesheet" href="/css/index.css"/>
  <link rel="icon" type="image/png" href="/img/pyret-icon.png?v=2">
</head>
<body>

<div id="main">
    <h1>You want access to my webcam?</h1>
    <div class="centered">
        <p>
            We are using <a target="_blank" href="https://webgazer.cs.brown.edu/">webgazer.js</a>
            to learn more about how users interact with Pyret.
            Our ultimate goal is to improve the user experience.
        </p>

        <h2>What about my privacy?</h2>
        <p>
            We have a reputation of respecting and maintaining our users' privacy.
            We continue to take this seriously.
            <a target="_blank" href="https://webgazer.cs.brown.edu/">Webgazer.js</a>
            assures us that no images will ever leave your machine.
            We only receive the predictions of where you are looking and the corresponding timestamps.
            Nevertheless, if you believe you have found a violation,
            please immediately inform both
            <a target="_blank" href="https://webgazer.cs.brown.edu/#contact">webgazer</a>
            and
            <a href="mailto:skynetfalling@brownplt.com">us</a>.
        </p>

        <h2>Do I have to participate?</h2>
        <p>
            Participating and giving us access to your webcam is completely opt-in.
            In the
            <a target="_blank" href="/editor">editor view</a>,
            a dialogue will ask if you want to grant us access.
            It will disappear when you either grant or deny access.
            Your browser might ask you one more time.
            Please click to confirm.
        </p>
        <p>
            We thank you for participating in making Pyret a better system for all.
        </p>

        <h2 id="Stop-access">How do I stop allowing access?</h2>
        <p>
            First, you need to 
            <a href="javascript:resetAccessPreferences()">reset your access preferences</a>
            so the next time you access the editor it will ask you if you want to grant us access again.
            Deny access, and you will be good to go!
        </p>

        <h2>How do I allow access if I previously refused to?</h2>
        <p>
            First, you need to 
            <a href="javascript:resetAccessPreferences()">reset your access preferences</a>
            so the next time you access the editor it will ask you if you want to grant us access again.
            Allow access, and you will be good to go!
        </p>

        <h2>Why am I getting pop-up warning messages?</h2>
        <p>
            This might happen in two circumstances.
            If you granted us access, you might not be using a 
            <a target="_blank" href="https://webgazer.cs.brown.edu/#support">supported browser</a>.
            We sincerely appreciate your support!
            If you want to continue using your current browser,
            <a href="#Stop-access">stop allowing us access</a>.
            The warning messages should disappear.
        </p>

        <p>
            Another possibility is that
            your browser is blocking access to your webcam.
            You can either allow us access in your browser settings or
            <a href="#Stop-access">stop allowing us access</a>.
            The warning messages should disappear.
        </p>

        <p>
            If you think something else is happening,
            please <a href="mailto:skynetfalling@brownplt.com">let us know</a>.
        </p>
    </div>
    <script>
     resetAccessPreferences = function() {
         var access = localStorage.getItem('allowed');
         if (access !== null) {
             localStorage.removeItem('allowed');
         }
         else
             console.log("no preferences to reset");
         alert("Your access preferences have been reset.");
     }
    </script>
</div>

</body>
</html>
