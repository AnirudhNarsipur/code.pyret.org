<!doctype HTML>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Tracking information</title>
  <link rel="stylesheet" href="/css/shared.css"/>
  <link rel="stylesheet" href="/css/index.css"/>
  <link rel="icon" type="image/png" href="/img/pyret-icon.png?v=2">
</head>
<body>

<div id="main">
  <h1>You want access to my webcam?</h1>
  <div class="centered">
    <p>
        We are using <a target="_blank" href="https://webgazer.cs.brown.edu/">webgazer.js</a>
        to learn more about how users interact with Pyret.
        Our ultimate goal is to improve the user experience.
    </p>
    <p>
        We have a reputation of respecting and maintaining our users' privacy.
        We continue to take this seriously.
        <a target="_blank" href="https://webgazer.cs.brown.edu/">Webgazer.js</a>
        assures us that no images will ever leave your machine.
        We only receive the predictions of where you are looking and the corresponding timestamps.
        Nevertheless, if you believe you have found a violation,
        please immediately inform both
        <a target="_blank" href="https://webgazer.cs.brown.edu/#contact">webgazer</a>
        and
        <a href="mailto:skynetfalling@brownplt.com">us</a>.
    </p>
    <p>
        Participating and giving us access to your webcam is completely opt-in.
        In the
        <a target="_blank" href="/editor">editor view</a>,
        a dialogue will ask if you want to grant us access.
        It will disappear when you either grant or deny access.
        Note that if you do grant us access,
        your browser will probably verify that you do mean to allow us access to your webcam.
        Please click confirm.
    </p>
    <p>
        We thank you for participating in making Pyret a better system for all.
    </p>
    <p>
        If you would like, you can
        <a href="javascript:resetAccessPreferences()">reset your access preferences</a>.
        The next time you enter the editor,
        the dialogue will again ask you whether you want to grant us access.
        This is also helpful if you grant us access,
        but there is a problem with your webcam.
        You can reset your preferences then deny access in order to prevent warning dialogues.
    </p>
  </div>
  <script>
      resetAccessPreferences = function() {
          var access = localStorage.getItem('allowed');
          if (access !== null) {
              localStorage.removeItem('allowed');
          }
          else
              console.log("no preferences to reset");
      }
  </script>
</div>

</body>
</html>
